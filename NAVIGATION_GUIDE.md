# üöÄ Nestogy Navigation System Guide

## How to Access the New Navigation System

### 1. **Command Palette** (Primary Access Method)
The command palette is the main way to navigate and execute commands in Nestogy. It provides comprehensive search across ALL entities in the system.

#### Opening the Command Palette:
- **Windows/Linux/Mac**: Press `Ctrl + /`
- **Alternative**: Press `/` (forward slash) anywhere on the page
- **Click Method**: Click the "Search" button in the top navigation bar

#### Using the Command Palette:

##### Natural Language Commands:

**Creating Items:**
- `create ticket` / `new ticket` / `add ticket` - Create a new support ticket
- `create invoice` / `new invoice` - Create a new invoice  
- `create quote` / `new quote` - Create a new quote
- `create project` / `new project` - Create a new project
- `create asset` / `add asset` - Add a new asset
- `create contract` / `new contract` - Create a new contract
- `create expense` / `add expense` - Add a new expense
- `create payment` / `new payment` - Record a payment
- `create user` / `add user` - Add a new user
- `create article` / `new article` - Create knowledge base article

**Viewing/Showing Items:**
- `show urgent` - View all urgent items
- `show today` - Display today's schedule
- `show tickets` - View all tickets
- `show invoices` - View all invoices
- `show quotes` - View all quotes
- `show projects` - View all projects
- `show assets` - View all assets
- `show contracts` - View all contracts
- `show expenses` - View all expenses
- `show payments` - View all payments
- `show overdue invoices` - View overdue invoices
- `show pending quotes` - View pending quotes
- `show active projects` - View active projects

**Navigation:**
- `go to dashboard` - Navigate to dashboard
- `go to clients` - Navigate to clients page
- `go to billing` - Navigate to billing section
- `go to assets` - Navigate to assets
- `go to projects` - Navigate to projects
- `go to knowledge base` - Navigate to KB

**MSP Operations:**
- `assign ticket` - Assign ticket to technician
- `escalate ticket` - Escalate ticket to higher tier  
- `resolve ticket` - Mark ticket as resolved
- `close ticket` - Close completed ticket
- `schedule ticket` - Schedule maintenance work

**System Management:**
- `monitor asset` - Monitor system performance
- `restart asset` - Restart system/service
- `backup asset` - Create system backup
- `patch asset` - Apply system updates
- `configure asset` - Configure system settings
- `enable asset` / `disable asset` - Control system state

**Communication:**
- `send invoice` - Send invoice to client
- `notify client` - Send notification to client
- `alert ticket` - Send alert about ticket
- `email client` - Send email to client

**Data Operations:**
- `export invoices` - Export invoice data
- `import clients` - Import client data  
- `sync invoices` - Synchronize billing data
- `archive project` - Archive completed project

**Analysis & Reports:**
- `analyze client` - Analyze client data patterns
- `report tickets` - Generate ticket reports
- `audit invoices` - Audit financial records
- `investigate ticket` - Investigate technical issues
- `troubleshoot asset` - Diagnose system problems

**Workflow Automation:**
- `trigger asset` - Trigger automated workflows
- `execute asset` - Run scripts and commands
- `automate ticket` - Set up workflow automation
- `validate invoice` - Validate billing data
- `test asset` - Test system functionality

**Searching:**
- `find server down` - Search for tickets containing "server down"
- `search invoices` - Search through invoices
- `search clients` - Search through clients
- Just type any text to search across ALL entities

##### Quick Actions:
When you open the command palette without typing, you'll see:
- üî• **Show urgent** - Critical items needing attention (Alt+U)
- üìÖ **Show today** - Today's scheduled work (Alt+T)
- üé´ **Create ticket** - Quick ticket creation
- üìù **Create quote** - Quick quote creation
- üí∞ **Create invoice** - Quick invoice creation
- Recent items you've accessed
- Context-specific actions based on selected client

##### Search Mode:
Just start typing to search comprehensively across:
- **Tickets** (by ID, title, description)
- **Clients** (by name, email, phone)
- **Invoices** (by number, client)
- **Quotes** (by number, description)
- **Assets** (by name, tag, serial number, model)
- **Projects** (by name, description, code)
- **Contracts** (by number, title, description)
- **Expenses** (by description, vendor, reference)
- **Payments** (by reference, notes)
- **Users** (by name, email)
- **Knowledge Base Articles** (by title, content, tags)
- **IT Documentation** (by network info, server details)
- **Client Contacts** (by name, email, phone)

### 2. **Workflow Navigation Bar**
Located at the top of the screen, showing contextual workflow badges:

- **üî• Urgent Badge** - Shows count of critical/urgent items
- **‚ö° Today Badge** - Shows today's scheduled work
- **üìã Scheduled Badge** - Shows upcoming scheduled items
- **üí∞ Financial Badge** - Shows pending financial tasks
- **üìä Reports Badge** - Quick access to reports

Click any badge to instantly filter to that workflow view.

### 3. **Smart Client Switcher**
Located in the top navigation bar:
- Shows currently selected client
- Click to switch between clients
- Recently accessed clients appear at top
- Search for any client

### 4. **Domain Sidebar**
The left sidebar adapts based on your current context:

#### When No Client Selected:
- Dashboard
- Quick Actions (New Ticket, New Client, etc.)
- Browse sections (Clients, Tickets, Billing, etc.)

#### When Client Selected:
- **‚ö†Ô∏è NEEDS ACTION** - Items requiring immediate attention
- **üõ†Ô∏è MANAGE** - Tickets, Assets, Contacts
- **üíº BUSINESS** - Invoices, Contracts, Projects
- **üîê SECURE** - Passwords, Certificates, Licenses

### 5. **Keyboard Shortcuts**

| Shortcut | Action |
|----------|--------|
| `Ctrl + /` | Open command palette |
| `/` | Open command palette (when not in input) |
| `Esc` | Close command palette |
| `‚Üë ‚Üì` | Navigate suggestions |
| `Enter` | Select item |
| `Alt + U` | Show urgent items |
| `Alt + T` | Show today's schedule |

## Workflow Examples

### Morning Routine Workflow
1. Open command palette (`‚åò + K`)
2. Type `start morning workflow`
3. System shows:
   - Overnight alerts
   - Backup status
   - Today's scheduled maintenance
   - Urgent tickets

### Billing Day Workflow
1. Open command palette
2. Type `start billing workflow`
3. System displays:
   - Clients ready for invoicing
   - Overdue payments
   - Pending quotes
   - Credit notes to process

### Emergency Response
1. See red notification badge
2. Click or type `show urgent`
3. View all critical items sorted by priority
4. Quick actions available for each item

## Available Domains & Searchable Entities

The navigation system provides comprehensive access to ALL features:

### Core Business Entities
- **Clients** - Complete CRM with contacts, locations, documents
  - Client Contacts
  - Client Addresses
  - IT Documentation
  - Credentials
  - Networks
  - Services
  - Vendors
- **Tickets** - Support tickets with workflows, templates, time tracking
  - Ticket Templates
  - Recurring Tickets
  - Time Entries
  - Workflows

### Financial Management
- **Invoices** - Full invoice management
- **Quotes** - Quote creation and management
- **Contracts** - Contract management with milestones
- **Expenses** - Expense tracking
- **Payments** - Payment recording and tracking
- **Credit Notes** - Credit management
- **Recurring Invoices** - Subscription billing

### Operations
- **Assets** - Asset management with maintenance, warranties
  - Asset Tags
  - Serial Numbers
  - Maintenance Schedules
  - Warranties
- **Projects** - Project management with tasks and milestones
  - Project Tasks
  - Milestones
  - Time Tracking
- **Users** - User management
  - Permissions
  - Roles
  - Settings

### Extended Features
- **Knowledge Base** - Articles, categories, search
  - KB Articles
  - Categories
  - Tags
  - Related Articles
- **Integrations** - RMM, webhooks, API management
  - Device Mappings
  - API Keys
  - Webhooks
- **IT Documentation** - Network diagrams, credentials, compliance
  - Network Diagrams
  - Server Information
  - Network Equipment
  - Security Policies
- **Infrastructure** - Licenses, certificates, domains, networks
  - Software Licenses
  - SSL Certificates
  - Domain Names
  - Network Configurations
- **Reports** - Comprehensive reporting and analytics
  - Financial Reports
  - Operational Reports
  - Custom Reports

## Tips & Tricks

### üß† Natural Language Processing
The command system understands natural language and can interpret various ways of expressing the same intent:

#### Intent Recognition Examples
```
"show me overdue invoices" = "overdue invoices" = "invoices overdue"
"create ticket for acme" = "new ticket acme" = "add ticket @acme"  
"find server issues" = "search server" = "/server problems"
"what tickets are urgent" = "urgent tickets" = "!tickets"
```

#### Smart Entity Resolution
The system can resolve entities using various identifiers:
- **Direct IDs**: `#123` (ticket), `INV-456` (invoice), `@acme` (client)
- **Fuzzy Names**: "acme corp" matches "Acme Corporation" 
- **Abbreviations**: "inv" ‚Üí "invoice", "tix" ‚Üí "tickets"
- **Typo Tolerance**: "tiket" ‚Üí "ticket", "clint" ‚Üí "client"

### üéØ Quick Shortcuts

#### Shortcut Symbols
- **@client_name** - Switch to or reference client (e.g., `@acme`)
- **#ticket_id** - Open specific ticket (e.g., `#123`)
- **$invoice_number** - Open specific invoice (e.g., `$INV-456`)
- **!urgent** - Show urgent items
- **+entity** - Create new entity (e.g., `+ticket`)
- **/search_term** - Search across all entities

#### Quick Access Shortcuts
- **Ctrl+0** - Dashboard
- **Ctrl+1** - Urgent items  
- **Ctrl+2** - Today's tasks
- **Ctrl+3** - Scheduled items
- **Ctrl+4** - All tickets

### üéõÔ∏è Context Awareness

#### Current Client Context
When a client is selected, commands automatically apply to that client:
```
With Acme Corp selected:
- "tickets" ‚Üí Show Acme Corp tickets
- "create invoice" ‚Üí Create invoice for Acme Corp  
- "assets" ‚Üí Show Acme Corp assets
- "new project" ‚Üí Create project for Acme Corp
```

#### Page Context Awareness
Commands adapt based on your current page:
- **On Tickets page**: "create" defaults to creating a ticket
- **On Financial page**: "create" shows invoice/quote options
- **On Client page**: Commands scope to current client

#### Smart Context Switching
```
"switch to acme" ‚Üí Changes client context
"@contoso" ‚Üí Switches to Contoso client
"back to dashboard" ‚Üí Returns to main dashboard
```

### üîç Advanced Search Patterns

#### Entity-Specific Searches
Use prefixes to search within specific entity types:
```
ticket: server down       ‚Üí Search only tickets for "server down"
client: acme             ‚Üí Search only clients for "acme"  
invoice: overdue         ‚Üí Search only invoices for "overdue"
asset: laptop            ‚Üí Search only assets for "laptop"
project: website         ‚Üí Search only projects for "website"
```

#### Multi-Entity Search
```
"server" ‚Üí Searches across:
- Tickets mentioning "server"
- Assets with "server" in name
- IT Documentation about servers
- Knowledge articles on servers
- Client networks with server info
```

#### Filter Combinations
```
"overdue invoices acme"     ‚Üí Overdue invoices for Acme Corp
"urgent tickets unassigned" ‚Üí Urgent tickets with no assignee
"scheduled today"           ‚Üí All items scheduled for today
"my overdue tasks"          ‚Üí Your overdue items across all types
```

### üöÄ Power User Features

#### Smart Command Variations
The system understands many ways to express the same intent:

**Creation Commands:**
```
"create ticket acme" = "new ticket @acme" = "add ticket acme" = "make ticket acme"
"new client" = "create client" = "add client" = "build client"
"generate invoice" = "create invoice" = "new invoice"
```

**MSP Operations:**
```
"assign ticket" = "assign ticket to technician"
"escalate issue" = "escalate ticket" = "escalate problem"
"resolve ticket" = "close ticket" = "finish ticket"
"backup server" = "backup asset" = "create backup"
```

**Analysis & Reporting:**
```
"analyze performance" = "report performance" = "investigate performance"
"troubleshoot issue" = "investigate problem" = "diagnose issue"
"audit compliance" = "check compliance" = "validate compliance"
```

**System Management:**
```
"restart service" = "restart asset" = "reboot system"
"enable service" = "activate service" = "start service"
"patch system" = "update system" = "upgrade system"
```

**Communication:**
```
"send notification" = "notify client" = "alert client"
"email invoice" = "send invoice" = "deliver invoice"
```

#### Workflow Automation
```
"morning routine" ‚Üí Shows:
- Urgent overnight tickets
- Today's scheduled maintenance  
- Backup status alerts
- SLA breach warnings

"billing workflow" ‚Üí Shows:
- Clients ready for invoicing
- Overdue payments
- Pending quote approvals
- Usage reports to process
```

#### Adaptive Intelligence
The system continuously learns and adapts:
- **Personal Patterns**: Your frequently used commands rank higher
- **Context Learning**: Understands what works in different situations  
- **Smart Suggestions**: Improves autocomplete based on your behavior
- **Error Prevention**: Learns from mistakes to prevent future issues
- **Performance**: Caches your common entities for faster access

### üé® Command Categories

#### Creation Commands (Verb + Entity)
```
create|new|add + ticket|invoice|quote|client|project|asset|user
"create ticket acme urgent"
"new invoice for current client"  
"add asset dell laptop"
```

#### Display Commands (Show + Filter)
```
show|display|list + entity + filter
"show urgent tickets"
"display overdue invoices" 
"list active projects"
```

#### Navigation Commands (Go + Destination)  
```
go to|open|visit + page|client|entity
"go to billing dashboard"
"open client acme corp"
"visit project website redesign"
```

#### Action Commands (Action + Target)
```
email|send|export|print + entity + identifier
"email invoice INV-123"
"export asset report"
"print ticket #456"
```

## Troubleshooting

### Command Palette Not Opening?
- Ensure you're not in a text input field
- Try the alternative shortcut (`/`)
- Click the "Search" button in the navigation bar (shows Ctrl+/)
- Refresh the page if shortcuts aren't working

### Search Not Working?
- Check your internet connection
- Refresh the page (`Ctrl + R` or `F5`)
- Clear browser cache
- Ensure you have permissions to view the entities you're searching

### Missing Features?
- Check your user permissions
- Some features require specific roles
- Admin features only visible to super-admins
- Some entities may not have data yet (create some first)

### Search Results Empty?
- Try broader search terms
- Check if you have the right client selected
- Ensure the entity type exists in your system
- Some models might not be deployed yet

## API Access

Developers can access the navigation system programmatically:

```javascript
// Execute a command
fetch('/api/navigation/command', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
        'X-CSRF-TOKEN': csrfToken
    },
    body: JSON.stringify({ command: 'show urgent' })
});

// Get suggestions
fetch('/api/navigation/suggestions?q=create');

// Get badge counts
fetch('/api/navigation/badges');

// Search
fetch('/api/search/query?query=server+down');
```

## Complete Command Reference

### Creation Commands  
| Command | Variations | Description |
|---------|------------|-------------|
| `create ticket` | `new ticket`, `add ticket` | New support ticket |
| `create invoice` | `new invoice`, `generate invoice` | New invoice |
| `create quote` | `new quote`, `add quote` | New quote |
| `create project` | `new project`, `make project` | New project |
| `create asset` | `add asset`, `new asset` | New asset |
| `create contract` | `new contract` | New contract |
| `create expense` | `add expense` | New expense |
| `create payment` | `new payment` | New payment |
| `create user` | `add user`, `new user` | New user |
| `create article` | `new article` | New KB article |

### MSP Operations
| Command | Description |
|---------|-------------|
| `assign ticket` | Assign ticket to technician |
| `escalate ticket` | Escalate to higher tier |
| `resolve ticket` | Mark as resolved |
| `close ticket` | Close completed ticket |
| `schedule ticket` | Schedule maintenance |

### System Management
| Command | Description |
|---------|-------------|
| `monitor asset` | Monitor performance |
| `restart asset` | Restart service/system |
| `backup asset` | Create backup |
| `restore asset` | Restore from backup |
| `patch asset` | Apply patches |
| `configure asset` | Configure settings |
| `deploy asset` | Deploy to system |
| `update asset` | Update software |
| `install asset` | Install software |
| `upgrade asset` | Upgrade system |

### State Management
| Command | Description |
|---------|-------------|
| `enable asset` | Enable service |
| `disable asset` | Disable service |
| `start asset` | Start service |
| `stop asset` | Stop service |
| `activate client` | Activate account |
| `deactivate client` | Deactivate account |

### Communication
| Command | Description |
|---------|-------------|
| `send invoice` | Email invoice to client |
| `notify client` | Send notification |
| `alert ticket` | Send ticket alert |
| `email client` | Send email |
| `message user` | Send message |

### Data Operations
| Command | Description |
|---------|-------------|
| `export invoices` | Export data |
| `import clients` | Import data |
| `sync invoices` | Synchronize data |
| `archive project` | Archive completed |

### Analysis & Reports
| Command | Description |
|---------|-------------|
| `analyze client` | Analyze patterns |
| `report tickets` | Generate reports |
| `audit invoices` | Audit records |
| `investigate ticket` | Investigate issues |
| `troubleshoot asset` | Diagnose problems |

### Workflow Automation
| Command | Description |
|---------|-------------|
| `trigger asset` | Trigger workflows |
| `execute asset` | Run commands |
| `automate ticket` | Set up automation |
| `validate invoice` | Validate data |
| `test asset` | Test functionality |

### Navigation Commands
| Command | Description | Route |
|---------|-------------|-------|
| `go to dashboard` | Main dashboard | / |
| `go to clients` | Client list | /clients |
| `go to tickets` | Ticket list | /tickets |
| `go to billing` | Billing section | /financial/invoices |
| `go to quotes` | Quote list | /financial/quotes |
| `go to assets` | Asset list | /assets |
| `go to projects` | Project list | /projects |
| `go to knowledge base` | KB articles | /knowledge |

### Show/Filter Commands
| Command | Description |
|---------|-------------|
| `show urgent` | Critical items |
| `show today` | Today's work |
| `show overdue invoices` | Past due invoices |
| `show pending quotes` | Awaiting approval |
| `show active projects` | In progress |
| `show my tickets` | Assigned to you |
| `show client tickets` | Current client's tickets |

## Support

For issues or feature requests related to the navigation system:
- Use command palette: Type "help"
- Contact support: Type "create ticket navigation issue"
- Check documentation: Type "show navigation docs"
- View this guide: Type "navigation guide"

---

The new navigation system is designed to reduce clicks, increase efficiency, and make every feature easily accessible. With practice, you'll find that most tasks can be completed in seconds rather than minutes.