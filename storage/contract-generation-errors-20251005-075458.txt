PHPUnit 11.5.42 by Sebastian Bergmann and contributors.

Runtime:       PHP 8.4.12 with PCOV 1.0.12
Configuration: /opt/nestogy/phpunit.xml

Migrated 19 permissions to Bouncer abilities.
Migrated 0 roles to Bouncer.
Migrated 0 role-permission relationships across 0 companies.
Migrated 0 user role assignments.
Migrated 0 direct user permissions.
Dropped legacy permission system tables.
The system now uses Bouncer for role and permission management.
EE..EE....EEE..F.                                                 17 / 17 (100%)

Time: 00:17.165, Memory: 119.00 MB

Contract Generation Service (Tests\Unit\Services\ContractGenerationService)
 ✘ Generate from quote creates contract
   │
   │ Illuminate\Database\QueryException: SQLSTATE[23514]: Check violation: 7 ERROR:  new row for relation "contract_templates" violates check constraint "contract_templates_status_check"
   │ DETAIL:  Failing row contains (1, 1, Standard Service Agreement, voluptas-ratione-quisquam-et-ipsum-aut, Repellat quia optio dolor aut dolore., custom, null, null, inactive, 1.0, null, f, null, null, ["client_id","start_date","end_date"], tiered, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 0, null, null, f, null, null, null, null, null, null, 1, null, null, 2025-10-05 07:55:11, 2025-10-05 07:55:11, null, null). (Connection: pgsql, SQL: insert into "contract_templates" ("company_id", "name", "slug", "description", "template_type", "category", "tags", "status", "version", "parent_template_id", "is_default", "variable_fields", "default_values", "required_fields", "voip_service_types", "default_sla_terms", "default_pricing_structure", "compliance_templates", "jurisdictions", "regulatory_requirements", "legal_disclaimers", "customization_options", "conditional_clauses", "pricing_models", "billing_model", "asset_billing_rules", "supported_asset_types", "asset_service_matrix", "default_per_asset_rate", "contact_billing_rules", "contact_access_tiers", "default_per_contact_rate", "calculation_formulas", "auto_assignment_rules", "billing_triggers", "workflow_automation", "notification_triggers", "integration_hooks", "usage_count", "last_used_at", "success_rate", "requires_approval", "approval_workflow", "last_reviewed_at", "next_review_date", "metadata", "rendering_options", "signature_settings", "created_by", "updated_by", "approved_by", "updated_at", "created_at") values (1, Standard Service Agreement, voluptas-ratione-quisquam-et-ipsum-aut, Repellat quia optio dolor aut dolore., custom, ?, ?, inactive, 1.0, ?, 0, ?, ?, ["client_id","start_date","end_date"], ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, tiered, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, 0, ?, ?, 0, ?, ?, ?, ?, ?, ?, 1, ?, ?, 2025-10-05 07:55:11, 2025-10-05 07:55:11) returning "id")
   │
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:824
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:778
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:397
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:384
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/PostgresProcessor.php:24
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:370
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:271
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:365
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:321
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:315
   │ /opt/nestogy/tests/Unit/Services/ContractGenerationServiceTest.php:49
   │  
   │ Caused by:
   │ PDOException: SQLSTATE[23514]: Check violation: 7 ERROR:  new row for relation "contract_templates" violates check constraint "contract_templates_status_check"
   │ DETAIL:  Failing row contains (1, 1, Standard Service Agreement, voluptas-ratione-quisquam-et-ipsum-aut, Repellat quia optio dolor aut dolore., custom, null, null, inactive, 1.0, null, f, null, null, ["client_id","start_date","end_date"], tiered, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 0, null, null, f, null, null, null, null, null, null, 1, null, null, 2025-10-05 07:55:11, 2025-10-05 07:55:11, null, null).
   │
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:411
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:811
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:778
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:397
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:384
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/PostgresProcessor.php:24
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:370
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:271
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:365
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:321
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:315
   │ /opt/nestogy/tests/Unit/Services/ContractGenerationServiceTest.php:49
   │
 ✘ Generate from quote with customizations
   │
   │ Illuminate\Database\QueryException: SQLSTATE[23514]: Check violation: 7 ERROR:  new row for relation "contract_templates" violates check constraint "contract_templates_status_check"
   │ DETAIL:  Failing row contains (2, 5, perferendis cumque deserunt, harum-sunt-eveniet-ea-optio, null, standard, null, ["accusamus","voluptas","id"], inactive, 1.0, null, t, null, null, ["client_id","start_date","end_date"], per_asset, null, null, null, null, 470.70, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 0, null, null, f, null, null, null, null, null, null, 4, null, null, 2025-10-05 07:55:12, 2025-10-05 07:55:12, null, null). (Connection: pgsql, SQL: insert into "contract_templates" ("company_id", "name", "slug", "description", "template_type", "category", "tags", "status", "version", "parent_template_id", "is_default", "variable_fields", "default_values", "required_fields", "voip_service_types", "default_sla_terms", "default_pricing_structure", "compliance_templates", "jurisdictions", "regulatory_requirements", "legal_disclaimers", "customization_options", "conditional_clauses", "pricing_models", "billing_model", "asset_billing_rules", "supported_asset_types", "asset_service_matrix", "default_per_asset_rate", "contact_billing_rules", "contact_access_tiers", "default_per_contact_rate", "calculation_formulas", "auto_assignment_rules", "billing_triggers", "workflow_automation", "notification_triggers", "integration_hooks", "usage_count", "last_used_at", "success_rate", "requires_approval", "approval_workflow", "last_reviewed_at", "next_review_date", "metadata", "rendering_options", "signature_settings", "created_by", "updated_by", "approved_by", "updated_at", "created_at") values (5, perferendis cumque deserunt, harum-sunt-eveniet-ea-optio, ?, standard, ?, ["accusamus","voluptas","id"], inactive, 1.0, ?, 1, ?, ?, ["client_id","start_date","end_date"], ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, per_asset, ?, ?, ?, 470.7, ?, ?, ?, ?, ?, ?, ?, ?, ?, 0, ?, ?, 0, ?, ?, ?, ?, ?, ?, 4, ?, ?, 2025-10-05 07:55:12, 2025-10-05 07:55:12) returning "id")
   │
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:824
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:778
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:397
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:384
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/PostgresProcessor.php:24
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:370
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:271
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:365
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:321
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:315
   │ /opt/nestogy/tests/Unit/Services/ContractGenerationServiceTest.php:69
   │  
   │ Caused by:
   │ PDOException: SQLSTATE[23514]: Check violation: 7 ERROR:  new row for relation "contract_templates" violates check constraint "contract_templates_status_check"
   │ DETAIL:  Failing row contains (2, 5, perferendis cumque deserunt, harum-sunt-eveniet-ea-optio, null, standard, null, ["accusamus","voluptas","id"], inactive, 1.0, null, t, null, null, ["client_id","start_date","end_date"], per_asset, null, null, null, null, 470.70, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 0, null, null, f, null, null, null, null, null, null, 4, null, null, 2025-10-05 07:55:12, 2025-10-05 07:55:12, null, null).
   │
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:411
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:811
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:778
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:397
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:384
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/PostgresProcessor.php:24
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:370
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:271
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:365
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:321
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:315
   │ /opt/nestogy/tests/Unit/Services/ContractGenerationServiceTest.php:69
   │
 ✔ Generate from template creates contract
 ✔ Generate from template with voip config
 ✘ Create custom contract
   │
   │ Illuminate\Database\QueryException: SQLSTATE[23502]: Not null violation: 7 ERROR:  null value in column "contract_type" of relation "contracts" violates not-null constraint
   │ DETAIL:  Failing row contains (3, 11, CNT-0001, null, Custom Contract, Custom contract for special services, draft, 5, 15000.00, USD, null, 0.00, 0.00, 2025-10-05, 2026-04-05, null, null, null, null, null, null, f, null, null, null, null, 9, null, null, null, f, null, null, null, null, 2025-10-05 07:55:13, 2025-10-05 07:55:13, null, pending, fixed, null, null, null, null, null, null, null, null, null, null, null, null, 0, 0, 0.00, 0.00, 0.00, null, null, f, t, f, null, f, null, null, null, null, null, null, null, null, null, null). (Connection: pgsql, SQL: insert into "contracts" ("company_id", "contract_number", "currency_code", "status", "signature_status", "created_by", "client_id", "title", "start_date", "end_date", "contract_value", "description", "updated_at", "created_at") values (11, CNT-0001, USD, draft, pending, 9, 5, Custom Contract, 2025-10-05 00:00:00, 2026-04-05 00:00:00, 15000, Custom contract for special services, 2025-10-05 07:55:13, 2025-10-05 07:55:13) returning "id")
   │
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:824
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:778
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:397
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:384
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/PostgresProcessor.php:24
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1219
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Support/helpers.php:390
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1218
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:23
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2540
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2556
   │ /opt/nestogy/app/Domains/Contract/Services/ContractGenerationService.php:152
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Concerns/ManagesTransactions.php:35
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php:489
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php:363
   │ /opt/nestogy/app/Domains/Contract/Services/ContractGenerationService.php:143
   │ /opt/nestogy/tests/Unit/Services/ContractGenerationServiceTest.php:145
   │  
   │ Caused by:
   │ PDOException: SQLSTATE[23502]: Not null violation: 7 ERROR:  null value in column "contract_type" of relation "contracts" violates not-null constraint
   │ DETAIL:  Failing row contains (3, 11, CNT-0001, null, Custom Contract, Custom contract for special services, draft, 5, 15000.00, USD, null, 0.00, 0.00, 2025-10-05, 2026-04-05, null, null, null, null, null, null, f, null, null, null, null, 9, null, null, null, f, null, null, null, null, 2025-10-05 07:55:13, 2025-10-05 07:55:13, null, pending, fixed, null, null, null, null, null, null, null, null, null, null, null, null, 0, 0, 0.00, 0.00, 0.00, null, null, f, t, f, null, f, null, null, null, null, null, null, null, null, null, null).
   │
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:411
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:811
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:778
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:397
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:384
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/PostgresProcessor.php:24
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1219
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Support/helpers.php:390
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1218
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:23
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2540
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2556
   │ /opt/nestogy/app/Domains/Contract/Services/ContractGenerationService.php:152
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Concerns/ManagesTransactions.php:35
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php:489
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php:363
   │ /opt/nestogy/app/Domains/Contract/Services/ContractGenerationService.php:143
   │ /opt/nestogy/tests/Unit/Services/ContractGenerationServiceTest.php:145
   │
 ✘ Create custom contract with milestones
   │
   │ Illuminate\Database\QueryException: SQLSTATE[23502]: Not null violation: 7 ERROR:  null value in column "contract_type" of relation "contracts" violates not-null constraint
   │ DETAIL:  Failing row contains (4, 12, CNT-0001, null, Project Contract, null, draft, 6, 0.00, USD, null, 0.00, 0.00, 2025-10-05, null, null, null, null, null, null, null, f, null, null, null, null, 10, null, null, null, f, null, null, null, null, 2025-10-05 07:55:13, 2025-10-05 07:55:13, null, pending, fixed, null, null, null, null, null, null, null, null, null, null, null, null, 0, 0, 0.00, 0.00, 0.00, null, null, f, t, f, null, f, null, null, null, null, null, null, null, null, null, null). (Connection: pgsql, SQL: insert into "contracts" ("company_id", "contract_number", "currency_code", "status", "signature_status", "created_by", "client_id", "title", "start_date", "updated_at", "created_at") values (12, CNT-0001, USD, draft, pending, 10, 6, Project Contract, 2025-10-05 00:00:00, 2025-10-05 07:55:13, 2025-10-05 07:55:13) returning "id")
   │
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:824
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:778
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:397
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:384
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/PostgresProcessor.php:24
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1219
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Support/helpers.php:390
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1218
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:23
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2540
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2556
   │ /opt/nestogy/app/Domains/Contract/Services/ContractGenerationService.php:152
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Concerns/ManagesTransactions.php:35
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php:489
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php:363
   │ /opt/nestogy/app/Domains/Contract/Services/ContractGenerationService.php:143
   │ /opt/nestogy/tests/Unit/Services/ContractGenerationServiceTest.php:175
   │  
   │ Caused by:
   │ PDOException: SQLSTATE[23502]: Not null violation: 7 ERROR:  null value in column "contract_type" of relation "contracts" violates not-null constraint
   │ DETAIL:  Failing row contains (4, 12, CNT-0001, null, Project Contract, null, draft, 6, 0.00, USD, null, 0.00, 0.00, 2025-10-05, null, null, null, null, null, null, null, f, null, null, null, null, 10, null, null, null, f, null, null, null, null, 2025-10-05 07:55:13, 2025-10-05 07:55:13, null, pending, fixed, null, null, null, null, null, null, null, null, null, null, null, null, 0, 0, 0.00, 0.00, 0.00, null, null, f, t, f, null, f, null, null, null, null, null, null, null, null, null, null).
   │
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:411
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:811
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:778
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:397
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:384
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/PostgresProcessor.php:24
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1219
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Support/helpers.php:390
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:1218
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Support/Traits/ForwardsCalls.php:23
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2540
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:2556
   │ /opt/nestogy/app/Domains/Contract/Services/ContractGenerationService.php:152
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Concerns/ManagesTransactions.php:35
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php:489
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php:363
   │ /opt/nestogy/app/Domains/Contract/Services/ContractGenerationService.php:143
   │ /opt/nestogy/tests/Unit/Services/ContractGenerationServiceTest.php:175
   │
 ✔ Generate contract document
 ✔ Generate contract document with options
 ✔ Regenerate contract
 ✔ Regenerate contract maintains original data
 ✘ Full contract lifecycle from quote
   │
   │ Illuminate\Database\QueryException: SQLSTATE[23514]: Check violation: 7 ERROR:  new row for relation "contract_templates" violates check constraint "contract_templates_status_check"
   │ DETAIL:  Failing row contains (5, 21, unde ratione vitae, aliquam-repudiandae-maiores-quisquam-saepe-ratione-consequatur, null, custom, nulla, ["veritatis","dignissimos","quam"], inactive, 1.0, null, t, null, null, ["client_id","start_date","end_date"], per_asset, null, null, null, null, null, null, null, 8.49, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 0, null, null, f, null, null, null, null, null, null, 19, null, null, 2025-10-05 07:55:14, 2025-10-05 07:55:14, null, null). (Connection: pgsql, SQL: insert into "contract_templates" ("company_id", "name", "slug", "description", "template_type", "category", "tags", "status", "version", "parent_template_id", "is_default", "variable_fields", "default_values", "required_fields", "voip_service_types", "default_sla_terms", "default_pricing_structure", "compliance_templates", "jurisdictions", "regulatory_requirements", "legal_disclaimers", "customization_options", "conditional_clauses", "pricing_models", "billing_model", "asset_billing_rules", "supported_asset_types", "asset_service_matrix", "default_per_asset_rate", "contact_billing_rules", "contact_access_tiers", "default_per_contact_rate", "calculation_formulas", "auto_assignment_rules", "billing_triggers", "workflow_automation", "notification_triggers", "integration_hooks", "usage_count", "last_used_at", "success_rate", "requires_approval", "approval_workflow", "last_reviewed_at", "next_review_date", "metadata", "rendering_options", "signature_settings", "created_by", "updated_by", "approved_by", "updated_at", "created_at") values (21, unde ratione vitae, aliquam-repudiandae-maiores-quisquam-saepe-ratione-consequatur, ?, custom, nulla, ["veritatis","dignissimos","quam"], inactive, 1.0, ?, 1, ?, ?, ["client_id","start_date","end_date"], ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, per_asset, ?, ?, ?, ?, ?, ?, 8.49, ?, ?, ?, ?, ?, ?, 0, ?, ?, 0, ?, ?, ?, ?, ?, ?, 19, ?, ?, 2025-10-05 07:55:14, 2025-10-05 07:55:14) returning "id")
   │
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:824
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:778
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:397
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:384
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/PostgresProcessor.php:24
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:370
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:271
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:365
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:321
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:315
   │ /opt/nestogy/tests/Unit/Services/ContractGenerationServiceTest.php:264
   │  
   │ Caused by:
   │ PDOException: SQLSTATE[23514]: Check violation: 7 ERROR:  new row for relation "contract_templates" violates check constraint "contract_templates_status_check"
   │ DETAIL:  Failing row contains (5, 21, unde ratione vitae, aliquam-repudiandae-maiores-quisquam-saepe-ratione-consequatur, null, custom, nulla, ["veritatis","dignissimos","quam"], inactive, 1.0, null, t, null, null, ["client_id","start_date","end_date"], per_asset, null, null, null, null, null, null, null, 8.49, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 0, null, null, f, null, null, null, null, null, null, 19, null, null, 2025-10-05 07:55:14, 2025-10-05 07:55:14, null, null).
   │
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:411
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:811
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:778
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:397
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:384
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/PostgresProcessor.php:24
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:370
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:271
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:365
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:321
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:315
   │ /opt/nestogy/tests/Unit/Services/ContractGenerationServiceTest.php:264
   │
 ✘ Contract generation with multiple templates
   │
   │ Illuminate\Database\QueryException: SQLSTATE[23514]: Check violation: 7 ERROR:  new row for relation "contract_templates" violates check constraint "contract_templates_status_check"
   │ DETAIL:  Failing row contains (6, 25, adipisci perferendis aspernatur, distinctio-nobis-est-dolorum-corrupti-quos-consequatur, Dolorum libero esse necessitatibus est voluptates omnis exercita..., standard, voluptas, null, inactive, 1.0, null, f, null, null, ["client_id","start_date","end_date"], tiered, null, null, null, null, 358.44, null, null, 99.99, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 0, null, null, t, null, null, null, null, null, null, 22, null, null, 2025-10-05 07:55:15, 2025-10-05 07:55:15, null, null). (Connection: pgsql, SQL: insert into "contract_templates" ("company_id", "name", "slug", "description", "template_type", "category", "tags", "status", "version", "parent_template_id", "is_default", "variable_fields", "default_values", "required_fields", "voip_service_types", "default_sla_terms", "default_pricing_structure", "compliance_templates", "jurisdictions", "regulatory_requirements", "legal_disclaimers", "customization_options", "conditional_clauses", "pricing_models", "billing_model", "asset_billing_rules", "supported_asset_types", "asset_service_matrix", "default_per_asset_rate", "contact_billing_rules", "contact_access_tiers", "default_per_contact_rate", "calculation_formulas", "auto_assignment_rules", "billing_triggers", "workflow_automation", "notification_triggers", "integration_hooks", "usage_count", "last_used_at", "success_rate", "requires_approval", "approval_workflow", "last_reviewed_at", "next_review_date", "metadata", "rendering_options", "signature_settings", "created_by", "updated_by", "approved_by", "updated_at", "created_at") values (25, adipisci perferendis aspernatur, distinctio-nobis-est-dolorum-corrupti-quos-consequatur, Dolorum libero esse necessitatibus est voluptates omnis exercitationem., standard, voluptas, ?, inactive, 1.0, ?, 0, ?, ?, ["client_id","start_date","end_date"], ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, tiered, ?, ?, ?, 358.44, ?, ?, 99.99, ?, ?, ?, ?, ?, ?, 0, ?, ?, 1, ?, ?, ?, ?, ?, ?, 22, ?, ?, 2025-10-05 07:55:15, 2025-10-05 07:55:15) returning "id")
   │
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:824
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:778
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:397
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:384
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/PostgresProcessor.php:24
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:370
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:271
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:365
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:321
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:315
   │ /opt/nestogy/tests/Unit/Services/ContractGenerationServiceTest.php:285
   │  
   │ Caused by:
   │ PDOException: SQLSTATE[23514]: Check violation: 7 ERROR:  new row for relation "contract_templates" violates check constraint "contract_templates_status_check"
   │ DETAIL:  Failing row contains (6, 25, adipisci perferendis aspernatur, distinctio-nobis-est-dolorum-corrupti-quos-consequatur, Dolorum libero esse necessitatibus est voluptates omnis exercita..., standard, voluptas, null, inactive, 1.0, null, f, null, null, ["client_id","start_date","end_date"], tiered, null, null, null, null, 358.44, null, null, 99.99, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 0, null, null, t, null, null, null, null, null, null, 22, null, null, 2025-10-05 07:55:15, 2025-10-05 07:55:15, null, null).
   │
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:411
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:811
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:778
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:397
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:384
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/PostgresProcessor.php:24
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:370
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:271
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:365
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:321
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:315
   │ /opt/nestogy/tests/Unit/Services/ContractGenerationServiceTest.php:285
   │
 ✘ Contract generation handles company isolation
   │
   │ Illuminate\Database\QueryException: SQLSTATE[23514]: Check violation: 7 ERROR:  new row for relation "contract_templates" violates check constraint "contract_templates_status_check"
   │ DETAIL:  Failing row contains (7, 26, voluptatum neque nesciunt, in-alias-aliquam-illo-rerum, null, compliance, null, ["doloremque","qui","optio"], inactive, 1.0, null, f, null, null, ["client_id","start_date","end_date"], hybrid, null, null, null, null, null, null, null, 23.80, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 0, null, null, f, null, null, null, null, null, null, 23, null, null, 2025-10-05 07:55:15, 2025-10-05 07:55:15, null, null). (Connection: pgsql, SQL: insert into "contract_templates" ("company_id", "name", "slug", "description", "template_type", "category", "tags", "status", "version", "parent_template_id", "is_default", "variable_fields", "default_values", "required_fields", "voip_service_types", "default_sla_terms", "default_pricing_structure", "compliance_templates", "jurisdictions", "regulatory_requirements", "legal_disclaimers", "customization_options", "conditional_clauses", "pricing_models", "billing_model", "asset_billing_rules", "supported_asset_types", "asset_service_matrix", "default_per_asset_rate", "contact_billing_rules", "contact_access_tiers", "default_per_contact_rate", "calculation_formulas", "auto_assignment_rules", "billing_triggers", "workflow_automation", "notification_triggers", "integration_hooks", "usage_count", "last_used_at", "success_rate", "requires_approval", "approval_workflow", "last_reviewed_at", "next_review_date", "metadata", "rendering_options", "signature_settings", "created_by", "updated_by", "approved_by", "updated_at", "created_at") values (26, voluptatum neque nesciunt, in-alias-aliquam-illo-rerum, ?, compliance, ?, ["doloremque","qui","optio"], inactive, 1.0, ?, 0, ?, ?, ["client_id","start_date","end_date"], ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, hybrid, ?, ?, ?, ?, ?, ?, 23.8, ?, ?, ?, ?, ?, ?, 0, ?, ?, 0, ?, ?, ?, ?, ?, ?, 23, ?, ?, 2025-10-05 07:55:15, 2025-10-05 07:55:15) returning "id")
   │
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:824
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:778
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:397
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:384
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/PostgresProcessor.php:24
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:370
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:271
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:365
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:321
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:315
   │ /opt/nestogy/tests/Unit/Services/ContractGenerationServiceTest.php:317
   │  
   │ Caused by:
   │ PDOException: SQLSTATE[23514]: Check violation: 7 ERROR:  new row for relation "contract_templates" violates check constraint "contract_templates_status_check"
   │ DETAIL:  Failing row contains (7, 26, voluptatum neque nesciunt, in-alias-aliquam-illo-rerum, null, compliance, null, ["doloremque","qui","optio"], inactive, 1.0, null, f, null, null, ["client_id","start_date","end_date"], hybrid, null, null, null, null, null, null, null, 23.80, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 0, null, null, f, null, null, null, null, null, null, 23, null, null, 2025-10-05 07:55:15, 2025-10-05 07:55:15, null, null).
   │
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:411
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:811
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:778
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:397
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Connection.php:384
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Query/Processors/PostgresProcessor.php:24
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:3853
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:2235
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1436
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1401
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:1240
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:370
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Collections/Traits/EnumeratesValues.php:271
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:365
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:321
   │ /opt/nestogy/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Factories/Factory.php:315
   │ /opt/nestogy/tests/Unit/Services/ContractGenerationServiceTest.php:317
   │
 ✔ Generate from quote validates quote status
 ✔ Create custom contract requires minimum fields
 ✘ Regenerate contract handles signed contracts
   │
   │ Failed asserting that exception of type "Exception" is thrown.

   │
 ✔ Generate contract document handles missing contract

ERRORS!
Tests: 17, Assertions: 14, Errors: 7, Failures: 1.

Generating code coverage report in Clover XML format ... done [00:12.722]
